(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{426:function(t,s,a){"use strict";a.r(s);var r=a(7),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"消息订阅与发布"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#消息订阅与发布"}},[t._v("#")]),t._v(" 消息订阅与发布")]),t._v(" "),s("h2",{attrs:{id:"定义"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#定义"}},[t._v("#")]),t._v(" 定义")]),t._v(" "),s("p",[t._v("一种组件间通信的方式，适用于："),s("font",{attrs:{color:"red"}},[t._v("任意组件间通信")])],1),t._v(" "),s("h2",{attrs:{id:"与报纸订阅与发布相比较"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#与报纸订阅与发布相比较"}},[t._v("#")]),t._v(" 与报纸订阅与发布相比较")]),t._v(" "),s("ul",[s("li",[t._v("报纸订阅与发布\n"),s("ol",[s("li",[t._v("订阅报纸：住址")]),t._v(" "),s("li",[t._v("邮递员派送报纸：报纸")])])]),t._v(" "),s("li",[t._v("消息订阅与发布\n"),s("ol",[s("li",[t._v("订阅消息：消息名")]),t._v(" "),s("li",[t._v("发布消息：消息内容")])])])]),t._v(" "),s("h2",{attrs:{id:"使用步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用步骤"}},[t._v("#")]),t._v(" 使用步骤")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("安装pubsub-js："),s("code",[t._v("npm i pubsub-js")])])]),t._v(" "),s("li",[s("p",[t._v("引入："),s("code",[t._v('import pubsub from "pubsub-js"')])]),t._v(" "),s("p",[t._v("**注意：**哪个组件需要用就在哪个组件里引入")])]),t._v(" "),s("li",[s("p",[t._v("接收数据：A组件想要接收数据，则在A组件中订阅消息，事件的"),s("font",{attrs:{color:"red"}},[t._v("回调留在A组件自身")])],1),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("methods: {\n\tdemo(msgName, data) {...}\n}\n...\nmounted() {\n    this.pubId1 = pubsub.subscribe('hello', this.demo)\n}\n")])])])]),t._v(" "),s("li",[s("p",[t._v("提供数据："),s("code",[t._v("pubsub.publish('xxx',数据)")])])]),t._v(" "),s("li",[s("p",[t._v("最好在beforeDestroy钩子中，用"),s("code",[t._v("pubsub.unsubscribe(pid)")]),s("font",{attrs:{color:"red"}},[t._v("取消订阅")]),t._v("事件")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);